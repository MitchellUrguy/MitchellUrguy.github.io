<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>List â†’ Array</title>
</head>
<body>
  <div id="output"></div>

  <script>
  (async () => {
    const out = document.getElementById('output');

    try {
      const res = await fetch('list.txt'); // always load list.txt from same folder
      if (!res.ok) throw new Error(res.status + ' ' + res.statusText);
      const text = await res.text();

      // parse: split lines, then split columns by tab or comma, trim, remove empties
      const items = [];
      text.split(/\r?\n/).forEach(line => {
        if (!line) return;
        line.split(/\t|,/).forEach(part => {
          part = (part || '').trim().replace(/,+$/, '');
          if (part) items.push(part);
        });
      });

      // dedupe while preserving order
      const seen = new Set();
      const arr = items.filter(i => {
        if (seen.has(i)) return false;
        seen.add(i);
        return true;
      });

      // render: JSON, single comma line, and list (only the words)
      out.innerHTML = '';
      const pre = document.createElement('pre');
      pre.textContent = JSON.stringify(arr, null, 2);
      out.appendChild(pre);

      const line = document.createElement('p');
      line.textContent = arr.join(', ');
      out.appendChild(line);

      const ul = document.createElement('ul');
      arr.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        ul.appendChild(li);
      });
      out.appendChild(ul);
    } catch (err) {
      out.textContent = 'Failed to load list.txt: ' + err.message;
      console.error(err);
    }
  })();
  </script>
</body>
</html>